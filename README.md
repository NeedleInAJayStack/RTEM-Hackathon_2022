# RTEM Hackathon 2022

This repository contains Jay Herron's code for submission to the RTEM Hackathon 2022.

The final report and its artifacts are contained in the `doc` folder, whereas python scripts used to generate the results and images are contained in the `src` folder.

Included are some convenience methods for accessing API data, as well as sophisticated consumption data cleaning algorithms.

## Getting Started

1. Clone this repo: `git clone https://github.com/NeedleInAJayStack/RTEM-Hackathon_2022` and enter the directory: `cd RTEM-Hackathon_2022`
2. Install python dependencies: `pip install -r requirements.txt`
3. The API key to use is detected from the `API_KEY` environment variable. Either set this variable or add a `.env` file to the root directory and set the variable there.
4. Run a script: `python3 ./src/plot_275v393.py`

## Datasets

- `electrical-consumption.csv`: A hand revised list of points that represent whole building consumption. If multiple points exist for each building, the total building usage is the sum of the points. The original pre-revision dataset was generated by filtering for "Electrical Consumption" type points on equipment of "meter", "site", "panel", or "virtual".
- `electrical-consumption_orig.csv`: A hand revised list of points that represent whole building consumption. If multiple points exist for each building, the total building usage is the sum of the points. The original pre-revision dataset was generated by filtering for "Electrical Consumption" type points on equipment of "meter", "site", "panel", or "virtual".
- `kpis.csv`: The KPI results for each building aggregated across its entire history in the RTEM Dataset. result of running `process.py` across the dataset.

## Scripts

- `compute_KPIs.py`: This generates the aggregated KPI values for each building. Specifically, it goes through each building in the electric-consumption CSV file, grabs the entire history for all the relevant points, cleans the data, computes the weekly KPIs, aggregates them, and exports the `kpis.csv` file.
- `export_Consumption.py`: This exports the original pre-revised list of electrical consumption points.
- `plot_*.py`: These scripts generate the images in the report.